<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Viskores: Coding Conventions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Viskores
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Coding Conventions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Several developers contribute to Viskores and we welcome others who are interested to also contribute to the project. To ensure readability and consistency in the code, we have adopted the following coding conventions. Many of these conventions are adapted from the coding conventions of the VTK project. This is because many of the developers are familiar with VTK coding and because we expect viskores to have continual interaction with VTK.</p>
<ul>
<li>All code contributed to Viskores must be compatible with Viskoresâ€™s BSD license.</li>
<li>License notices should appear at the top of all source, configuration, and text files. The statement should have the following form. Various copyright specific details are referenced in the LICENSE.txt file.</li>
</ul>
<div class="fragment"><div class="line">//============================================================================</div>
<div class="line">//  The contents of this file are covered by the Viskores license. See</div>
<div class="line">//  LICENSE.txt for details.</div>
<div class="line">//</div>
<div class="line">//  By contributing to this file, all contributors agree to the Developer</div>
<div class="line">//  Certificate of Origin Version 1.1 (DCO 1.1) as stated in DCO.txt.</div>
<div class="line">//============================================================================</div>
</div><!-- fragment --><ul>
<li>The LicenseStatement test checks all files for a similar statement. The test will print out a suggested text that can be copied and pasted to any file that has a missing copyright statement (with appropriate replacement of comment prefix). Exceptions to this copyright statement (for example, third-party files with different but compatible statements) can be added to DCO.txt.</li>
<li><p class="startli">All include files should use include guards. starting right after the copyright statement. The naming convention of the include guard macro is that it should be all in lower case and start with viskores and than continue the path name, starting from the inside the viskores source code directory, with non alphanumeric characters, such as / and . replaced with underscores. The <code>#endif</code> part of the guard at the bottom of the file should include the guard name in a comment. For example, the <a class="el" href="ArrayHandle_8h.html">viskores/cont/ArrayHandle.h</a> header contains the guard demostrated below.</p>
<p class="startli">The unique use of viskores over viskores is to allow auto-complete engines the ability to differentiate between the header guards and VISKORES_ macros that are used within the code base.</p>
</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef viskores_cont_ArrayHandle_h</span></div>
<div class="line"><span class="preprocessor">#define viskores_cont_ArrayHandle_h</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// All ArrayHandle code here</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#endif //viskores_cont_ArrayHandle_h</span></div>
</div><!-- fragment --><ul>
<li>The Viskores toolkit has several nested namespaces. The declaration of each namespace should be on its own line, and the code inside the namespace bracket should not be indented. The closing brace at the bottom of the namespace should be documented with a comment identifying the namespace. Namespaces can be grouped as desired. The following is a valid use of namespaces.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceviskores.html">viskores</a> {</div>
<div class="line"><span class="keyword">namespace </span>cont {</div>
<div class="line"><span class="keyword">namespace </span>detail {</div>
<div class="line"><span class="keyword">class </span>InternalClass;</div>
<div class="line">} <span class="comment">// namespace detail</span></div>
<div class="line"><span class="keyword">class </span>ExposedClass;</div>
<div class="line">}</div>
<div class="line">} <span class="comment">// namespace viskores::cont</span></div>
</div><!-- fragment --><ul>
<li>Multiple inheritance is not allowed in Viskores classes.</li>
<li>Any functional public class should be in its own header file with the same name as the class. The file should be in a directory that corresponds to the namespace the class is in. There are several exceptions to this rule.<ul>
<li>Templated classes and template specialization often require the implementation of the class to be broken into pieces. Sometimes a specialization is placed in a header with a different name.</li>
<li>Many Viskores toolkit features are not encapsulated in classes. Functions may be collected by purpose or co-located with associated class.</li>
<li>Although tags are technically classes, they behave as an enumeration for the compiler. Multiple tags that make up this enumeration are collected together.</li>
<li>Some classes, such as <code><a class="el" href="classviskores_1_1Vec.html" title="A short fixed-length array.">viskores::Vec</a></code> are meant to behave as basic types. These are sometimes collected together as if they were related typedefs. The <a class="el" href="Types_8h.html">viskores/Types.h</a> header is a good example of this.</li>
</ul>
</li>
<li>The indentation style can be characterized as <a href="https://en.wikipedia.org/wiki/Indent_style#Allman_style">Allman Style</a>. With the curly brace (scope delimiter) placed on the following line and not-indented.</li>
</ul>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (test)</div>
<div class="line">{</div>
<div class="line">  clause;</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Conditional clauses including loop conditionals such as for and while must be in braces below the conditional.</li>
</ul>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> v : vector)</div>
<div class="line">{</div>
<div class="line">  single line clause;</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Two space indentation. Tabs are not allowed. Trailing whitespace is not allowed.</li>
<li>Code formatting is strictly enforced. Viskores's <a href="../CONTRIBUTING.md#workflow">development workflow</a> includes a reformatting step that compares the formatting of new source code with our formatting definitions. Incompatible code can be automatically reformatted to be compliant. See <a href="../CONTRIBUTING.md#reformat-a-topic">CONTRIBUTING.md --&gt; Reformat a Topic</a> for details.</li>
<li>Use only alphanumeric characters in names. Use capitalization to demarcate words within a name (camel case). The exception is preprocessor macros and constant numbers that are, by convention, represented in all caps and a single underscore to demarcate words.</li>
<li>Namespace names are in all lowercase. They should be a single word that designates its meaning.</li>
<li>All class, method, member variable, and functions should start with a capital letter. Local variables should start in lower case and then use camel case. Exceptions can be made when such naming would conflict with previously established conventions in other library. (For example, <code>make_Vector2</code> corresponds to make pair in the standard template library.)</li>
<li>Always spell out words in names; do not use abbreviations except in cases where the shortened form is widely understood and a name in its own right (e.g. OpenMP).</li>
<li>Always use descriptive names in all identifiers, including local variable names. Particularly avoid meaningless names of a few characters (e.g. <code>x</code>, <code>foo</code>, or <code>tmp</code>) or numbered names with no meaning to the number or order (e.g. <code>value1</code>, <code>value2</code>,...). Also avoid the meaningless for loop variable names <code>i</code>, <code>j</code>, <code>k</code>, etc. Instead, use a name that identifies what type of index is being referenced such as <code>pointIndex</code>, <code>vertexIndex</code>, <code>componentIndex</code>, <code>rowIndex</code>, <code>columnIndex</code>, etc.</li>
<li>Classes are documented with Doxygen-style comments before classes, methods, and functions.</li>
<li>Exposed classes should not have public instance variables outside of exceptional situations. Access is given by convention through methods with names starting with Set and Get or through overloaded operators.</li>
<li>References to classes and functions should be fully qualified with the namespace. This makes it easier to establish classes and functions from different packages and to find source and documentation for the referenced class. As an exception, if one class references an internal or detail class clearly associated with it, the reference can be shortened to <code>internal::</code> or <code>detail::</code>.</li>
<li>Use <code>this-&gt;</code> inside of methods when accessing class methods and instance variables to distinguish between local variables and instance variables.</li>
<li>Include statements should generally be in alphabetical order. They can be grouped by package and type.</li>
<li>Namespaces should not be brought into global scope or the scope of any Viskores package namespace with the <code>using</code> keyword. It should also be avoided in class, method, and function scopes (fully qualified namespace references are preferred).</li>
<li>All code must be valid by the 7 specifications.</li>
<li>New code must include regression tests that will run on the dashboards. Generally a new class will have an associated "UnitTest" that will test the operation of the test directly. There may be other tests necessary that exercise the operation with different components or on different architectures.</li>
<li>All code must compile and run without error or warning messages on the nightly dashboards, which include Windows, Mac, and Linux.</li>
<li>Do not use the base C types like <code>float</code>, <code>double</code>, <code>int</code>, <code>long</code>, etc. When appropriate, use templates to determine the correct type. Otherwise, use types defined by Viskores. Use <code><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216" title="Base type to use to index arrays.">viskores::Id</a></code> or <code><a class="el" href="namespaceviskores.html#aca2ec71d38de7693e10bc433f43dbf40" title="Base type to use to index small lists.">viskores::IdComponent</a></code> for indices and sizes. Consider using <code><a class="el" href="namespaceviskores.html#af6c632281522d90b3f50ad6396efa1d5" title="The floating point type to use when no other precision is specified.">viskores::FloatDefault</a></code> makes sense. Otherwise, use one of Viskores's types do be explicit about the data type. These are <code><a class="el" href="namespaceviskores.html#a51c25b092de0dab71d38ba566199f8bf" title="Base type to use for 8-bit signed integer numbers.">viskores::Int8</a></code>, <code><a class="el" href="namespaceviskores.html#afea83468f8cfcf7f649b1fd42d117a0d" title="Base type to use for 8-bit unsigned integer numbers.">viskores::UInt8</a></code>, <code><a class="el" href="namespaceviskores.html#a011e737e17419be8d54717e7d8f4c833" title="Base type to use for 16-bit signed integer numbers.">viskores::Int16</a></code>, <code><a class="el" href="namespaceviskores.html#a49fdbb00db997959143e0c94b52c1e0b" title="Base type to use for 16-bit unsigned integer numbers.">viskores::UInt16</a></code>, <code><a class="el" href="namespaceviskores.html#a551f985fe2e8dae6c5f03856ecfe0dae" title="Base type to use for 32-bit signed integer numbers.">viskores::Int32</a></code>, <code><a class="el" href="namespaceviskores.html#a44214830f7e13b87de4d20728b6e6297" title="Base type to use for 32-bit unsigned integer numbers.">viskores::UInt32</a></code>, <code><a class="el" href="namespaceviskores.html#afcbbc86b7129a2612785d217e77a633a" title="Base type to use for 32-bit floating-point numbers.">viskores::Float32</a></code>, <code><a class="el" href="namespaceviskores.html#a27c5c2d39480832d9e073800143ac745" title="Base type to use for 64-bit signed integer numbers.">viskores::Int64</a></code>, <code><a class="el" href="namespaceviskores.html#ad73d0fee6a8e525142086920906c2fcf" title="Base type to use for 64-bit signed integer numbers.">viskores::UInt64</a></code>, and <code><a class="el" href="namespaceviskores.html#a87daa0e8ab1805ee441976f4e334daba" title="Base type to use for 64-bit floating-point numbers.">viskores::Float64</a></code>.</li>
<li>All functions and methods defined within the Viskores toolkit should be declared with <code>VISKORES_CONT</code>, <code>VISKORES_EXEC</code>, or <code>VISKORES_EXEC_CONT</code>.</li>
</ul>
<p>We should note that although these conventions impose a strict statute on Viskores coding, these rules (other than those involving licensing and copyright) are not meant to be dogmatic. Examples can be found in the existing code that break these conventions, particularly when the conventions stand in the way of readability (which is the point in having them in the first place). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="anamespaceviskores_html"><div class="ttname"><a href="namespaceviskores.html">viskores</a></div><div class="ttdoc">Groups connected points that have the same field value.</div><div class="ttdef"><b>Definition:</b> Atomic.h:27</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
