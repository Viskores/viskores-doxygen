<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Viskores: viskores::exec::AtomicArrayExecutionObject&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Viskores
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceviskores.html">viskores</a></li><li class="navelem"><a class="el" href="namespaceviskores_1_1exec.html">exec</a></li><li class="navelem"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">AtomicArrayExecutionObject</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">viskores::exec::AtomicArrayExecutionObject&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An object passed to a worklet when accessing an atomic array.  
 <a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AtomicArrayExecutionObject_8h_source.html">AtomicArrayExecutionObject.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structviskores_1_1exec_1_1AtomicArrayExecutionObject_1_1HasPointerAccess.html">HasPointerAccess</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1d7b7443ec025c6c4a2b4bec080929a0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> = T</td></tr>
<tr class="separator:a1d7b7443ec025c6c4a2b4bec080929a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a597df12eead2159cfb562621e4d818a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a597df12eead2159cfb562621e4d818a5">AtomicArrayExecutionObject</a> ()=default</td></tr>
<tr class="separator:a597df12eead2159cfb562621e4d818a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0dbc46365c6ffd2a07d6b46e68608ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#af0dbc46365c6ffd2a07d6b46e68608ec">AtomicArrayExecutionObject</a> (<a class="el" href="classviskores_1_1cont_1_1ArrayHandle.html">viskores::cont::ArrayHandle</a>&lt; T &gt; handle, <a class="el" href="structviskores_1_1cont_1_1DeviceAdapterId.html">viskores::cont::DeviceAdapterId</a> device, <a class="el" href="classviskores_1_1cont_1_1Token.html">viskores::cont::Token</a> &amp;token)</td></tr>
<tr class="separator:af0dbc46365c6ffd2a07d6b46e68608ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67db793f65d3dd325ae6ca2de24a12d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a67db793f65d3dd325ae6ca2de24a12d6">GetNumberOfValues</a> () const</td></tr>
<tr class="memdesc:a67db793f65d3dd325ae6ca2de24a12d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the number of values in the atomic array.  <a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a67db793f65d3dd325ae6ca2de24a12d6">More...</a><br /></td></tr>
<tr class="separator:a67db793f65d3dd325ae6ca2de24a12d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf42ae75685ef8b6271b5a2e03ea3c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afaf42ae75685ef8b6271b5a2e03ea3c4">Get</a> (<a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a> index, <a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a> order=<a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679a993ca650a85e8e69b8f7eaa4809c4862">viskores::MemoryOrder::Acquire</a>) const</td></tr>
<tr class="memdesc:afaf42ae75685ef8b6271b5a2e03ea3c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an atomic load of the indexed element with acquire memory ordering.  <a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afaf42ae75685ef8b6271b5a2e03ea3c4">More...</a><br /></td></tr>
<tr class="separator:afaf42ae75685ef8b6271b5a2e03ea3c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a943406a17c81aa9385e97097fedaf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a2a943406a17c81aa9385e97097fedaf6">Add</a> (<a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a> index, const <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> &amp;value, <a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a> order=<a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679ae3b0fa849dbd758b450f98fcfde936a2">viskores::MemoryOrder::SequentiallyConsistent</a>) const</td></tr>
<tr class="memdesc:a2a943406a17c81aa9385e97097fedaf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peform an atomic addition with sequentially consistent memory ordering.  <a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a2a943406a17c81aa9385e97097fedaf6">More...</a><br /></td></tr>
<tr class="separator:a2a943406a17c81aa9385e97097fedaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766f2426997c165c840083c08bf91dce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a766f2426997c165c840083c08bf91dce">Set</a> (<a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a> index, const <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> &amp;value, <a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a> order=<a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679ab8e7b465df7c5979dc731d06e84ce2cf">viskores::MemoryOrder::Release</a>) const</td></tr>
<tr class="memdesc:a766f2426997c165c840083c08bf91dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peform an atomic store to memory while enforcing, at minimum, "release" memory ordering.  <a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a766f2426997c165c840083c08bf91dce">More...</a><br /></td></tr>
<tr class="separator:a766f2426997c165c840083c08bf91dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba200626918756881b81fbc45a28862"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afba200626918756881b81fbc45a28862">CompareExchange</a> (<a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a> index, <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> *oldValue, const <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> &amp;newValue, <a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a> order=<a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679ae3b0fa849dbd758b450f98fcfde936a2">viskores::MemoryOrder::SequentiallyConsistent</a>) const</td></tr>
<tr class="memdesc:afba200626918756881b81fbc45a28862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an atomic compare and exchange operation with sequentially consistent memory ordering.  <a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afba200626918756881b81fbc45a28862">More...</a><br /></td></tr>
<tr class="separator:afba200626918756881b81fbc45a28862"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1d8bc1aba3b31b3b7118133aeb360283"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d8bc1aba3b31b3b7118133aeb360283">Data</a> { nullptr }</td></tr>
<tr class="separator:a1d8bc1aba3b31b3b7118133aeb360283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdbfb886dfc774c1010e550efaec5b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#aabdbfb886dfc774c1010e550efaec5b5">NumberOfValues</a> { 0 }</td></tr>
<tr class="separator:aabdbfb886dfc774c1010e550efaec5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class viskores::exec::AtomicArrayExecutionObject&lt; T &gt;</h3>

<p>An object passed to a worklet when accessing an atomic array. </p>
<p>This object is created for the worklet when a <code>ControlSignature</code> argument is <code>AtomicArrayInOut</code>.</p>
<p><code><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html" title="An object passed to a worklet when accessing an atomic array.">AtomicArrayExecutionObject</a></code> behaves similar to a normal <code>ArrayPortal</code>. It has similar <code><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afaf42ae75685ef8b6271b5a2e03ea3c4" title="Perform an atomic load of the indexed element with acquire memory ordering.">Get()</a></code> and <code><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a766f2426997c165c840083c08bf91dce" title="Peform an atomic store to memory while enforcing, at minimum, &quot;release&quot; memory ordering.">Set()</a></code> methods, but it has additional features that allow atomic access as well as more methods for atomic operations. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a1d7b7443ec025c6c4a2b4bec080929a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d7b7443ec025c6c4a2b4bec080929a0">&#9670;&nbsp;</a></span>ValueType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::<a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> =  T</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a597df12eead2159cfb562621e4d818a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597df12eead2159cfb562621e4d818a5">&#9670;&nbsp;</a></span>AtomicArrayExecutionObject() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::<a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">AtomicArrayExecutionObject</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af0dbc46365c6ffd2a07d6b46e68608ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0dbc46365c6ffd2a07d6b46e68608ec">&#9670;&nbsp;</a></span>AtomicArrayExecutionObject() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::<a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">AtomicArrayExecutionObject</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classviskores_1_1cont_1_1ArrayHandle.html">viskores::cont::ArrayHandle</a>&lt; T &gt;&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structviskores_1_1cont_1_1DeviceAdapterId.html">viskores::cont::DeviceAdapterId</a>&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classviskores_1_1cont_1_1Token.html">viskores::cont::Token</a> &amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2a943406a17c81aa9385e97097fedaf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a943406a17c81aa9385e97097fedaf6">&#9670;&nbsp;</a></span>Add()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::<a class="el" href="structviskores_1_1Add.html">Add</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a>&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679ae3b0fa849dbd758b450f98fcfde936a2">viskores::MemoryOrder::SequentiallyConsistent</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Peform an atomic addition with sequentially consistent memory ordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the array element that will be added to. </td></tr>
    <tr><td class="paramname">value</td><td>The addend of the atomic add operation. </td></tr>
    <tr><td class="paramname">order</td><td>The memory ordering to use for the add operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original value of the element at <em>index</em> (before addition). </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Overflow behavior from this operation is undefined. </dd></dl>

</div>
</div>
<a id="afba200626918756881b81fbc45a28862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba200626918756881b81fbc45a28862">&#9670;&nbsp;</a></span>CompareExchange()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::CompareExchange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> *&#160;</td>
          <td class="paramname"><em>oldValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> &amp;&#160;</td>
          <td class="paramname"><em>newValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a>&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679ae3b0fa849dbd758b450f98fcfde936a2">viskores::MemoryOrder::SequentiallyConsistent</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform an atomic compare and exchange operation with sequentially consistent memory ordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the array element that will be atomically modified. </td></tr>
    <tr><td class="paramname">oldValue</td><td>A pointer to the expected value of the indexed element. </td></tr>
    <tr><td class="paramname">newValue</td><td>The value to replace the indexed element with. </td></tr>
    <tr><td class="paramname">order</td><td>The memory ordering to use for the compare and exchange operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the operation is successful, <code>true</code> is returned. Otherwise, <code>oldValue</code> is replaced with the current value of the indexed element, the element is not modified, and <code>false</code> is returned. In either case, <code>oldValue</code> becomes the value that was originally in the indexed element.</dd></dl>
<p>This operation is typically used in a loop. For example usage, an atomic multiplication may be implemented using compare-exchange as follows:</p>
<div class="fragment"><div class="line">AtomicArrayExecutionObject&lt;viskores::Int32&gt; atomicArray = ...;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Compare-exchange multiplication:</span></div>
<div class="line"><a class="code" href="namespaceviskores.html#a551f985fe2e8dae6c5f03856ecfe0dae">viskores::Int32</a> current = atomicArray.Get(idx); <span class="comment">// Load the current value at idx</span></div>
<div class="line"><a class="code" href="namespaceviskores.html#a551f985fe2e8dae6c5f03856ecfe0dae">viskores::Int32</a> newVal;</div>
<div class="line"><span class="keywordflow">do</span> {</div>
<div class="line">  newVal = current * multFactor; <span class="comment">// the actual multiplication</span></div>
<div class="line">} <span class="keywordflow">while</span> (!atomicArray.CompareExchange(idx, &amp;current, newVal));</div>
</div><!-- fragment --><p>The <code>while</code> condition here updates <code>newVal</code> what the proper multiplication is given the expected current value. It then compares this to the value in the array. If the values match, the operation was successful and the loop exits. If the values do not match, the value at <code>idx</code> was changed by another thread since the initial Get, and the compare-exchange operation failed &ndash; the target element was not modified by the compare-exchange call. If this happens, the loop body re-executes using the new value of <code>current</code> and tries again until it succeeds.</p>
<p>Note that for demonstration purposes, the previous code is unnecessarily verbose. We can express the same atomic operation more succinctly with just two lines where <code>newVal</code> is just computed in place.</p>
<div class="fragment"><div class="line"><a class="code" href="namespaceviskores.html#a551f985fe2e8dae6c5f03856ecfe0dae">viskores::Int32</a> current = atomicArray.Get(idx); <span class="comment">// Load the current value at idx</span></div>
<div class="line"><span class="keywordflow">while</span> (!atomicArray.CompareExchange(idx, &amp;current, current * multFactor));</div>
</div><!-- fragment --> 
</div>
</div>
<a id="afaf42ae75685ef8b6271b5a2e03ea3c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf42ae75685ef8b6271b5a2e03ea3c4">&#9670;&nbsp;</a></span>Get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a>&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679a993ca650a85e8e69b8f7eaa4809c4862">viskores::MemoryOrder::Acquire</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform an atomic load of the indexed element with acquire memory ordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the element to load. </td></tr>
    <tr><td class="paramname">order</td><td>The memory ordering to use for the load operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the atomic array at <em>index</em>. </dd></dl>

</div>
</div>
<a id="a67db793f65d3dd325ae6ca2de24a12d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67db793f65d3dd325ae6ca2de24a12d6">&#9670;&nbsp;</a></span>GetNumberOfValues()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a> <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::GetNumberOfValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the number of values in the atomic array. </p>

</div>
</div>
<a id="a766f2426997c165c840083c08bf91dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766f2426997c165c840083c08bf91dce">&#9670;&nbsp;</a></span>Set()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::Set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679">viskores::MemoryOrder</a>&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="namespaceviskores.html#a872314c7b538d16e19658db265f05679ab8e7b465df7c5979dc731d06e84ce2cf">viskores::MemoryOrder::Release</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Peform an atomic store to memory while enforcing, at minimum, "release" memory ordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the array element that will be added to. </td></tr>
    <tr><td class="paramname">value</td><td>The value to write for the atomic store operation. </td></tr>
    <tr><td class="paramname">order</td><td>The memory ordering to use for the store operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Using something like: <div class="fragment"><div class="line"><a class="code" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a766f2426997c165c840083c08bf91dce">Set</a>(index, <a class="code" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afaf42ae75685ef8b6271b5a2e03ea3c4">Get</a>(index)+N)</div>
</div><!-- fragment --></dd></dl>
<p>Should not be done as it is not thread safe, instead you should use the provided <a class="el" href="structviskores_1_1Add.html">Add</a> method instead. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1d8bc1aba3b31b3b7118133aeb360283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d8bc1aba3b31b3b7118133aeb360283">&#9670;&nbsp;</a></span>Data</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a1d7b7443ec025c6c4a2b4bec080929a0">ValueType</a>* <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::Data { nullptr }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aabdbfb886dfc774c1010e550efaec5b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabdbfb886dfc774c1010e550efaec5b5">&#9670;&nbsp;</a></span>NumberOfValues</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceviskores.html#a8e82cb49e20cef45fbeb58dc58790216">viskores::Id</a> <a class="el" href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html">viskores::exec::AtomicArrayExecutionObject</a>&lt; T &gt;::NumberOfValues { 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="AtomicArrayExecutionObject_8h_source.html">AtomicArrayExecutionObject.h</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="anamespaceviskores_html_a551f985fe2e8dae6c5f03856ecfe0dae"><div class="ttname"><a href="namespaceviskores.html#a551f985fe2e8dae6c5f03856ecfe0dae">viskores::Int32</a></div><div class="ttdeci">int32_t Int32</div><div class="ttdoc">Base type to use for 32-bit signed integer numbers.</div><div class="ttdef"><b>Definition:</b> Types.h:189</div></div>
<div class="ttc" id="aclassviskores_1_1exec_1_1AtomicArrayExecutionObject_html_afaf42ae75685ef8b6271b5a2e03ea3c4"><div class="ttname"><a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#afaf42ae75685ef8b6271b5a2e03ea3c4">viskores::exec::AtomicArrayExecutionObject::Get</a></div><div class="ttdeci">ValueType Get(viskores::Id index, viskores::MemoryOrder order=viskores::MemoryOrder::Acquire) const</div><div class="ttdoc">Perform an atomic load of the indexed element with acquire memory ordering.</div><div class="ttdef"><b>Definition:</b> AtomicArrayExecutionObject.h:136</div></div>
<div class="ttc" id="aclassviskores_1_1exec_1_1AtomicArrayExecutionObject_html_a766f2426997c165c840083c08bf91dce"><div class="ttname"><a href="classviskores_1_1exec_1_1AtomicArrayExecutionObject.html#a766f2426997c165c840083c08bf91dce">viskores::exec::AtomicArrayExecutionObject::Set</a></div><div class="ttdeci">void Set(viskores::Id index, const ValueType &amp;value, viskores::MemoryOrder order=viskores::MemoryOrder::Release) const</div><div class="ttdoc">Peform an atomic store to memory while enforcing, at minimum, &quot;release&quot; memory ordering.</div><div class="ttdef"><b>Definition:</b> AtomicArrayExecutionObject.h:188</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
